<!DOCTYPE html>
<html lang="en-us">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <title>
QGIS - Creating new column from existing using Python | Arunmozhi
</title>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">

<meta name="generator" content="Hugo 0.154.5">


<link rel="canonical" href="http://localhost:1313/2019/01/08/qgis-creating-new-column-from-existing-using-python/" >




<link href="/css/style.min.66302fa6c122ab7804faa4bd6465554ac4d746c25294af622826d0445b79ab94.css" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="stylesheet" href="/css/custom.css">



</head>

<body>

    <div class="flexWrapper">
        <header class="headerWrapper">
    <div class="header">
        <div>
            <a class="terminal" href="/">
                <span>Arunmozhi@arunmozhi.in ~ $</span>
            </a>
        </div>
        <input class="side-menu" type="checkbox" id="side-menu">
        <label class="hamb" for="side-menu"><span class="hamb-line"></span></label>
        <nav class="headerLinks">
            <ul>
                
                <li>
                    <a href="http://localhost:1313/posts/" title="" >
                        ~/blog</a>
                </li>
                
                <li>
                    <a href="http://localhost:1313/about/" title="" >
                        ~/about</a>
                </li>
                
            </ul>
        </nav>
    </div>
</header>


        <div class="content">
            <main class="main">
                
<div class="postWrapper">
        <h1>QGIS - Creating new column from existing using Python</h1>
        

    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    

    
    
    
    

    
    
    
    

    
    <section class="postMetadata">
        <dl>
            
                
<dt>tags</dt>
<dd><span></span>
    <a href="/tags/python/">#Python</a><span></span>
    <a href="/tags/qgis/">#Qgis</a></dd>
            
            
            
                
<dt>categories</dt>
<dd><span></span>
    <a href="/categories/coding/">Coding</a></dd>
            
            
                <dt>published</dt>
                 
                 
                 <dd><time datetime="2019-01-08">2019-01-08</time></dd>
            
            
                <dt>reading time</dt>
                <dd>2 minutes</dd>
            
        </dl>
    </section>
    
        <div>
            <p>Yesterday, I was working on the 
<a href="https://commons.wikimedia.org/wiki/File:Parks_in_Chennai_by_Wards.png" target="_blank" rel="noopener">ward level parks map of Chennai</a>
 I had to join a CSV data layer with the boundary polygon layer, but there was one issue while my CSV file has the ward numbers as integers (1,2,3..etc), the polygon layer had them as strings (Ward 1, Ward 2, Ward 3 &hellip;etc.,) So I was thinking, wouldn&rsquo;t it be nice just to strip the word Ward and put it in a new column, so that I can make a join by matching the ward numbers. Turns out Python integration in QGIS is so good that, I did it without even searching the internet. Here is how.</p>
<ol>
<li>Open the Attribute table</li>
<li>Open Field Calculator.</li>
<li>Enter the &ldquo;Output field name&rdquo;</li>
<li>Switch to &ldquo;Function Editor&rdquo;</li>
<li>Click the [+] button to create a new function file.</li>
<li>Changed the function name, parameter and return the value after stripping &ldquo;Ward &quot; from the string. Read the docs given below the function editor to understand what&rsquo;s going on the file.</li>
</ol>
<p>[caption id=&ldquo;attachment_614&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;964&rdquo;]<img src="/img/wp-content/uploads/2019/01/screenshot-2019-01-08-at-6.53.09-pm.png" alt="QGIS Field Calculator"> QGIS Field Calculator[/caption]</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> qgis.core <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> qgis.gui <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@qgsfunction</span>(args<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;auto&#39;</span>, group<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Custom&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">strip_ward</span>(name, feature, parent ):
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">return</span> name<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34; &#34;</span>)[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]
</span></span></code></pre></div><p>Now switch back to the Expression tab and call the function to calculate the new field</p>
<p><img src="/img/wp-content/uploads/2019/01/strip_ward.png" alt="strip_ward.png"></p>
<p>Click OK. Now the new field with the computed value would be created.</p>
<p>I had a simple use case, by one can use the power of Python to calculate anything from existing data and generate a new field based on it. I was really blown away by the level of Python integration in QGIS.</p>

        </div>

        
        <nav class="postNav" aria-label="Post navigation">
            
                <a class="postNav-prev postNav-button" href="/2019/01/12/literacy-gap-of-sc-community-in-tn-districts/">
                    <span class="postNav-label"><span aria-hidden="true" class="postNav-arrow">←</span> Newer</span>
                    <span class="postNav-title">Literacy Gap of SC community in TN districts</span>
                </a>
            
            
                <a class="postNav-next postNav-button" href="/2019/01/01/india-literacy-map-with-a-how-to/">
                    <span class="postNav-label">Older <span aria-hidden="true" class="postNav-arrow">→</span></span>
                    <span class="postNav-title">India Literacy Map with a How-To</span>
                </a>
            
        </nav>
        
</div>

            </main>
        </div>


        <footer class="footer">
    
        <span>
            © 2026 Arunmozhi, Built with
            <a href="https://gohugo.io" class="footerLink">Hugo</a> and
            <a href="https://github.com/LordMathis/hugo-theme-nightfall" class="footerLink">Nightfall</a> theme
        </span>
    
</footer>
    </div>

</body>

</html>
