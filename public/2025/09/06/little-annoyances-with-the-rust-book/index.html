<!DOCTYPE html>
<html lang="en-us">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <title>
Little Annoyances With the Rust Book | Arunmozhi
</title>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">

<meta name="generator" content="Hugo 0.154.5">


<link rel="canonical" href="http://localhost:1313/2025/09/06/little-annoyances-with-the-rust-book/" >




<link href="/css/style.min.66302fa6c122ab7804faa4bd6465554ac4d746c25294af622826d0445b79ab94.css" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="stylesheet" href="/css/custom.css">



</head>

<body>

    <div class="flexWrapper">
        <header class="headerWrapper">
    <div class="header">
        <div>
            <a class="terminal" href="/">
                <span>Arunmozhi@arunmozhi.in ~ $</span>
            </a>
        </div>
        <input class="side-menu" type="checkbox" id="side-menu">
        <label class="hamb" for="side-menu"><span class="hamb-line"></span></label>
        <nav class="headerLinks">
            <ul>
                
                <li>
                    <a href="http://localhost:1313/posts/" title="" >
                        ~/blog</a>
                </li>
                
                <li>
                    <a href="http://localhost:1313/about/" title="" >
                        ~/about</a>
                </li>
                
            </ul>
        </nav>
    </div>
</header>


        <div class="content">
            <main class="main">
                
<div class="postWrapper">
        <h1>Little Annoyances With the Rust Book</h1>
        

    
    
    
    

    
    
    
    
    

    
    
    
    
    

    
    
    
    

    
    
    
    

    
    
    
    

    
    <section class="postMetadata">
        <dl>
            
                
<dt>tags</dt>
<dd><span></span>
    <a href="/tags/rust/">#Rust</a></dd>
            
            
            
                
<dt>categories</dt>
<dd><span></span>
    <a href="/categories/books/">Books</a></dd>
            
            
                <dt>published</dt>
                 
                 
                 <dd><time datetime="2025-09-06">2025-09-06</time></dd>
            
            
                <dt>reading time</dt>
                <dd>5 minutes</dd>
            
        </dl>
    </section>
    
        <div>
            <h2 id="background">Background</h2>
<p>I have been wanting to write some software in a compiled language. Since my primary language has been Python for the
last decade, I settled on Rust after I discovered Rust &amp; Python work well together. I really wanted to learn Go, because
it&rsquo;s supposed to be simpler and used in all the devops stuff that I work with, but being able to use Rust &amp; Python
together seems like a big plus.</p>
<p>Anyway, in the age of LLM assisted development, I bought a paperback copy of <strong>&ldquo;The Rust Programming Language&rdquo;</strong> 2nd edition by <em>Steve
Klabnik</em> and <em>Carol Nichols</em>, and started working through this week.</p>
<blockquote>
<p><em>&ldquo;Why buy a paperback, when its 
<a href="https://doc.rust-lang.org/book/" target="_blank" rel="noopener">available online</a>
 for free?&rdquo;</em>, you ask.</p>
<p>I have tried the online book at least 5 times before. I end up just copy pasting code after a while or get
distracted switching between my editor and the browser. A physical book really keeps me focused.</p>
</blockquote>
<h2 id="why-this-post">Why this post?</h2>
<p>As I go through the book, I noticed some things that kind of bother me the way they are presented. Now, if they were
genuine errors, I could create Github issues and offer corrections in Pull Requests. These are not them. These are
editorial choices, that the authors have made which I don&rsquo;t agree with. Bothering them with these is, probably, a waste
of everyone&rsquo;s time.</p>
<p>But, I can&rsquo;t keep them bottled up as well. So, this blog will be my dumping ground.</p>
<h2 id="annoyances">Annoyances</h2>
<p>Now to those annoyances themselves.</p>
<h3 id="chapter-2---programmning-a-guessing-game">Chapter 2 - Programmning a Guessing Game</h3>
<h4 id="converting-string-to-integer">Converting String to Integer</h4>
<p>In page 25, this bit of code is added to convert the <code>String</code> read using a <code>io::stdin().read_line()</code> in to a <code>u32</code> integer value.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> guess: <span style="color:#66d9ef">u32</span> <span style="color:#f92672">=</span> guess
</span></span><span style="display:flex;"><span>  .trim()
</span></span><span style="display:flex;"><span>  .parse()
</span></span><span style="display:flex;"><span>  .except(<span style="color:#e6db74">&#34;Please type a number!&#34;</span>);
</span></span></code></pre></div><p>I was really stumped for a minute when I read this line. <strong>How does <code>parse()</code> know to parse an integer here? Why not a boolean or a float?</strong>.
Yes, I get that the compiler knows to use <code>parse()</code> in a way compatible with the expected value <code>u32</code> based on the type annotation.
But why not explicity tell that to parse? If the compiler &ldquo;knows&rdquo; to do it correctly, why bother with calling <code>parse</code> at all? Wouldn&rsquo;t
it be simpler to just write <code>let guess: u32 = guess</code> and call it a day? <em>I know, that wouldn&rsquo;t be practical. We need error handling, a-la <code>except()</code>.</em></p>
<p>To make it worse, we are introduced to this line in the preceeding pages:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> guess <span style="color:#f92672">=</span> String::new();
</span></span></code></pre></div><p>Here the type is inferred from the assignment. But now, is the assignment inferred from the type?</p>
<h5 id="the-turbofish">The &ldquo;turbofish&rdquo;</h5>
<p>Thankfully, RustRover&rsquo;s quick doc feature cleared my confusion - quickly, when I put my cursor over parse. Here is the docs for <code>parse()</code></p>
<blockquote>
<p>Parses this string slice into another type.</p>
<p>Because parse is so general, it can cause problems with type inference. As such, parse is one of the few times you&rsquo;ll see the syntax
affectionately known as the &rsquo;turbofish&rsquo;: <code>::&lt;&gt;</code>. This helps the inference algorithm understand specifically which type you&rsquo;re trying
to parse into.</p>
<p><code>parse</code> can parse into any type that implements the <code>FromStr</code> trait</p>
</blockquote>
<p>So, the more explicit/consistent way to write this would be</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> guess <span style="color:#f92672">=</span> guess
</span></span><span style="display:flex;"><span>  .trim()
</span></span><span style="display:flex;"><span>  .parse::<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">u32</span><span style="color:#f92672">&gt;</span>()
</span></span><span style="display:flex;"><span>  .excpet(<span style="color:#e6db74">&#34;Please type a number!&#34;</span>);
</span></span></code></pre></div><p>Now I know exactly what&rsquo;s going on and don&rsquo;t have to rely on &ldquo;compiler magic&rdquo;. In my opinion, this is more straightforward to understand
and reason about. I wish the authors have used the &rsquo;turbofish&rsquo; here and introduced the simplified version (is this called syntactic sugar?)
later at some point. Maybe they thought this was a &ldquo;simpler&rdquo; version and putting <code>::&lt;&gt;</code> before the <code>()</code> would scare people, I don&rsquo;t know.
It feels inconsistent and confusing for me.</p>
<h3 id="chapter-3---common-programming-concepts">Chapter 3 - Common Programming Concepts</h3>
<h4 id="dont-think-you-are-not-a-good-programmer">&ldquo;don&rsquo;t think you are not a good programmer&rdquo;</h4>
<p>While explaning about <em>Variables and Mutability</em>, I came across this passage:</p>
<blockquote>
<p>This example shows how the compiler helps you find errors in your programs. Compiler errors can be frustrating, but really they only
mean your program isn’t safely doing what you want it to do yet; they do not mean that you’re not a good programmer! Experienced
Rustaceans still get compiler errors.</p>
</blockquote>
<p>Why would I think I am not a good programmer because of a compiler error? Especially, when this is the instruction I received:</p>
<blockquote>
<p>Save and run the program using <code>cargo run</code>. You should receive an error message regarding an immutability error, as shown in this output:</p>
</blockquote>
<p>The book goes on&hellip;</p>
<blockquote>
<p>You received the error message cannot assign twice to immutable variable <code>x</code> because you tried to assign a second value to the immutable x variable.</p>
<p>It’s important that we get compile-time errors when we attempt to change a value that’s designated as immutable because this very situation can lead to bugs.</p>
</blockquote>
<p>Notice the shift from &ldquo;you&rdquo; to &ldquo;we&rdquo; here? You did all the wrong stuff and we are here to tell you about all the right stuff. It just irritates
me to no end when authors write like this. I just ran the code you gave me and asked me to run. Now English is my second language.
So, this change of &ldquo;you&rdquo; and &ldquo;we&rdquo; could be a minor nothing. But coupled with the <em>&ldquo;don&rsquo;t think you are not good&rdquo;</em>, it&rsquo;s really grating to read.</p>
<h2 id="update-on-09sep2025">Update on 09/Sep/2025</h2>
<h3 id="chapter-3---common-programming-concepts-1">Chapter 3 - Common Programming Concepts</h3>
<h4 id="the-range">The Range</h4>
<p>At the end of this big chapter, there is a mention of <code>Range</code> from the standard library. I thought it would be a literal function/struct called <code>Range</code>,
but the code shows an operator <code>..</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> number <span style="color:#66d9ef">in</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">..</span><span style="color:#ae81ff">4</span>).rev() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">println!</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{number}</span><span style="color:#e6db74">!&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">println!</span>(<span style="color:#e6db74">&#34;LIFTOFF!!!&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This is confusing and it probably needs a better explanation. At least a note explaining what <code>..</code> is.</p>

        </div>

        
        <nav class="postNav" aria-label="Post navigation">
            
                <a class="postNav-prev postNav-button" href="/2025/10/13/hamburger-menus-on-desktop-are-bad/">
                    <span class="postNav-label"><span aria-hidden="true" class="postNav-arrow">←</span> Newer</span>
                    <span class="postNav-title">Hamburger menus on desktop are bad</span>
                </a>
            
            
                <a class="postNav-next postNav-button" href="/2024/09/18/avoid-accidental-push-to-upstream/">
                    <span class="postNav-label">Older <span aria-hidden="true" class="postNav-arrow">→</span></span>
                    <span class="postNav-title">Avoiding Accidental Push to Upstream</span>
                </a>
            
        </nav>
        
</div>

            </main>
        </div>


        <footer class="footer">
    
        <span>
            © 2026 Arunmozhi, Built with
            <a href="https://gohugo.io" class="footerLink">Hugo</a> and
            <a href="https://github.com/LordMathis/hugo-theme-nightfall" class="footerLink">Nightfall</a> theme
        </span>
    
</footer>
    </div>

</body>

</html>
